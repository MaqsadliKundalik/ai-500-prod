# Sentinel-RX Backend Environment Configuration
# Copy this file to .env and fill in the values

# ===========================================
# APPLICATION SETTINGS
# ===========================================
APP_NAME=Sentinel-RX
APP_VERSION=0.1.0
DEBUG=True
ENVIRONMENT=development

# ===========================================
# SERVER SETTINGS
# ===========================================
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=True

# ===========================================
# DATABASE (PostgreSQL)
# ===========================================
# Local development
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/sentinel_rx
# Render.com (production)
# DATABASE_URL=postgresql+asyncpg://user:password@host:5432/sentinel_rx

# ===========================================
# REDIS
# ===========================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# ===========================================
# SECURITY
# ===========================================
SECRET_KEY=your-super-secret-key-change-in-production-minimum-32-characters
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ===========================================
# CORS
# ===========================================
CORS_ORIGINS=["http://localhost:3000","http://localhost:19006","http://localhost:8081"]
CORS_ALLOW_CREDENTIALS=True

# ===========================================
# AI/ML SERVICES
# ===========================================
# OpenAI (for NLU - $5 free credit)
OPENAI_API_KEY=sk-your-openai-api-key

# Model paths
PILL_RECOGNITION_MODEL_PATH=./models/pill_recognition_best.pt
PILL_ENCODERS_PATH=./models/pill_encoders.pkl
DDI_MODEL_PATH=./models/biobert_ddi_model.pt
ISOLATION_FOREST_MODEL_PATH=./models/isolation_forest_price.pkl
AUTOENCODER_MODEL_PATH=./models/autoencoder_price_anomaly.pt

# Model URLs (if hosted on S3/CDN)
DDI_MODEL_URL=https://your-s3-bucket.s3.amazonaws.com/biobert_ddi_model.pt

# AI Feature Flags
ENABLE_IMAGE_QUALITY_CHECK=True
ENABLE_BARCODE_DETECTION=True
ENABLE_UZBEK_NLU=True
ENABLE_PRICE_COMPARISON=True
ENABLE_RECALL_CHECKER=True

# AI Confidence Thresholds
PILL_RECOGNITION_THRESHOLD=0.6
DDI_CONFIDENCE_THRESHOLD=0.7
PRICE_ANOMALY_THRESHOLD=0.6

# ===========================================
# EXTERNAL APIS
# ===========================================
# OpenFDA API (FREE, 240 requests/minute, no key for basic use)
OPENFDA_API_URL=https://api.fda.gov/drug/enforcement.json
FDA_RATE_LIMIT=240
MOCK_FDA_API=False

# WHO Drug Alerts (no public API - web scraping or manual)
WHO_API_URL=https://www.who.int/medicines/publications/drugalerts
MOCK_WHO_API=True

# Uzbekistan Ministry of Health (no public API yet)
UZ_MOH_API_URL=https://ssv.uz/api/drug-alerts
UZ_MOH_API_KEY=your-uz-moh-key
MOCK_UZ_MOH_API=True

# DrugBank Open (FREE tier - 500 requests/month)
DRUGBANK_API_URL=https://api.drugbank.com/v1/
DRUGBANK_API_KEY=your-drugbank-key

# Google Maps (28,000 requests/month FREE)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# ExchangeRate API (FREE tier - 1500 requests/month)
EXCHANGE_RATE_API_KEY=your-exchange-rate-api-key

# ===========================================
# SMS VERIFICATION (Optional)
# ===========================================
# Eskiz.uz or PlayMobile.uz
SMS_API_URL=
SMS_API_KEY=
SMS_SENDER_ID=SentinelRX

# ===========================================
# MONITORING
# ===========================================
SENTRY_DSN=
PROMETHEUS_ENABLED=True

# ===========================================
# FILE STORAGE
# ===========================================
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE=10485760

# ===========================================
# LOGGING
# ===========================================
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
